<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:replace="~{fragments/head}"></head>
<body class="d-flex flex-column min-vh-100">
<header th:replace="~{fragments/header}"></header>

<div class="d-flex flex-column min-vh-100">
    <div class="container-1 my-auto text-center">
        <h1 class="custom-margin-top">Информация о предложении</h1>
        <div class="card mx-auto" style="max-width: 400px;">
            <img class="card-img-top" th:src="${offer.imageUrl}" alt="Car Image">
            <div class="card-body">
                <h5 class="card-title" th:text="${offer.brandName + ' ' + offer.modelName}"></h5>
                <p class="card-text" th:text="${'Price: ' + offer.price}"></p>
                <p class="card-text" th:text="${'Year: ' + offer.year}"></p>
                <p class="card-text" th:text="${'Engine: ' + offer.engine}"></p>
                <p class="card-text" th:text="${'Transmission: ' + offer.transmission}"></p>
                <p class="card-text" th:text="${'Mileage: ' + offer.mileage}"></p>
                <p class="card-text">
                    <span th:text="'Seller: '"></span>
                    <a th:href="@{/user/view/{id}(id=${offer.seller_id})}" th:text="${offer.seller_username}"></a>
                </p>

                <p class="card-text" th:text="${'Description: ' + offer.description}"></p>
            </div>
        </div>
        <!-- Кнопки Изменить и Удалить -->
        <div class="mt-3" th:if="${offer.seller_id.equals(currentUserId) or #authorization.expression('hasAnyRole(''ADMIN'')')}">
            <a th:href="@{/offer/edit/{id}(id=${offer.id})}" class="btn btn-primary me-2">Изменить</a>
            <a th:href="@{/offer/delete/{id}(id=${offer.id})}" class="btn btn-danger">Удалить</a>
        </div>
    </div>
</div>
<div th:replace="~{fragments/footer}"></div>
</body>
</html>
